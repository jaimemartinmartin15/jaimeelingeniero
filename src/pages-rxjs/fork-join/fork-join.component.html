<div class="page-header">
  <h1 class="title">ForkJoin</h1>
  <a class="link-rxjs" href="https://rxjs.dev/api/index/function/forkJoin" target="_blank">rxjs forkJoin ‚û°Ô∏è</a>
</div>

<p>
  Esta funci√≥n toma un array de Observables y nos devuelve un Observable que emite cuando todos los Observables del
  array han completado. El elemento emitido es un array con los √∫ltimos elementos de cada Observable antes de completar.
</p>

<textarea highlight-js [lang]="'typescript'">
import { forkJoin, Observable } from 'rxjs';

const observable1 = new Observable((subscriber) => {
  setTimeout(() => subscriber.next('üçé'), 100);
  setTimeout(() => subscriber.next('üçá'), 200);
  setTimeout(() => subscriber.complete(), 250);
});

const observable2 = new Observable((subscriber) => {
  setTimeout(() => subscriber.next('üçä'), 150);
  setTimeout(() => subscriber.next('üçå'), 300);
  setTimeout(() => subscriber.complete(), 350);
});

forkJoin([observable1, observable2]).subscribe({
  next: (value) => console.log('Next:', value),
  error: (error) => console.error(`Error: ${error}`),
  complete: () => console.log('Completed'),
});

// Output
// ======
// Next: ['üçá', 'üçå']
// Completed
</textarea>

<p>
  Bueno, pues en este ejemplo sencillito tenemos dos Observables que emiten elementos. Primero se emite la manzana en el
  observable1, luego la naranja en el observable2, luego las uvas en el observable1 y entonces completa el observable1.
  Como el observable2 a√∫n no ha completado el forkJoin no emite. Entonces se sigue emitiendo el pl√°tano en el
  observable2 y por √∫ltimo el observable2 completa. Esto es as√≠ que ahora todos los Observables del array que pasamos
  como argumento han completado y se emite el elemento ['üçá', 'üçå'] en el Observable devuelto por el forkJoin. Como
  todos los Observables han completado, tambi√©n se emite el evento de completed.
</p>

<p>
  En caso de haber tenido alg√∫n error en los Observables del array que pasamos como argumento, este error se entregar√≠a
  directamente al Observable devuelto por jorkJoin.
</p>

<p>
  A continuaci√≥n te dejo un simulador para que pruebes:
</p>